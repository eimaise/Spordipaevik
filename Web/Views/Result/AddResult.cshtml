@model WebApplication2.ViewModels.Results.ResultVm
@{
    ViewData["Title"] = "Õpilased";
}
<h1>@Model.ExerciseName</h1>
<table class="table table-striped table-bordered nowrap" style="width: 100%">
    <thead>
    <tr>
        <th>Õpilane</th>
        <th style="max-width: 150px">Praegused tulemused</th>
        <th>Eelnev parim tulemus</th>
        <th>Sisesta tulemus</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var student in Model.Students)
    {
                var i = 0;
        <tr>
            <td >
                @student.Name
            </td>
            <td>
                @foreach (var result in student.Results)
                {
                    i++;
                    <h5> @i.
                        <a class="btn btn-outline-dark"style="margin: 5px; min-width: 90px" data-toggle="tooltip" data-placement="top" title="Muuda tulemust"asp-action="EditResult" asp-route-resultId="@result.Id">
                            @result.ResultValue
                        </a>
                    </h5>

                }
            </td>
            <td>
                <h5>@student.BestResult</h5>
            </td>
            <td>
                <form asp-action="AddResult" asp-controller="Result" method="post" style="width: 200px">
                    <div class="form-group">
                        
                    <input type="hidden" name="SelectedExerciseId" value="@Model.ExerciseId"/>
                    <input type="hidden" name="ClassId" value="@Model.ClassId"/>
                    <input type="hidden" name="StudentId" value="@student.Id"/>
                    <input type="hidden" name="gender" value="@Model."/>

                    <input type="number" step="0.01" name="result" class="form-control"/>

                    <button class="btn btn-success form-control" type="submit">Lisa tulemus</button>
                    </div>
                </form>
            </td>
        </tr>
    }
    </tbody>
</table>
<script>
    $(function () {
        $('[data-toggle="tooltip"]').tooltip();
    })

</script>